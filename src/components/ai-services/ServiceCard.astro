---
interface Props {
  title: string;
  description: string;
  icon: string;
  features: string[];
  href: string;
  featured?: boolean;
}

const { title, description, icon, features, href, featured = false } = Astro.props;

// Texto del botón según el tipo de servicio
const isConsultoria = title === "Consultoría Personalizada";
const buttonText = isConsultoria ? "Agenda Cita" : "Ver Demo Interactiva";
---

<div
  class={`
    relative p-8 rounded-2xl border-2 transition-all duration-300 bg-base-50 group
    ${featured
      ? 'border-accent-300 shadow-lg hover:shadow-2xl hover:border-accent-400 hover:-translate-y-2'
      : 'border-base-200 hover:border-accent-300 hover:shadow-xl hover:-translate-y-1'
    }
  `}
>
  {featured && (
    <div class="absolute -top-4 left-8">
      <span class="bg-gradient-to-r from-accent-600 to-blue-600 text-white text-xs font-bold px-4 py-1.5 rounded-full shadow-md">
        Más Popular
      </span>
    </div>
  )}

  <div class="flex items-start gap-4 mb-6">
    <div class={`
      w-14 h-14 rounded-xl flex items-center justify-center text-3xl flex-shrink-0 shadow-md transition-transform duration-300 group-hover:scale-110
      ${featured ? 'bg-gradient-to-br from-accent-600 to-blue-600' : 'bg-accent-100'}
    `}>
      {featured ? <span class="filter drop-shadow-sm">{icon}</span> : icon}
    </div>
    <div class="flex-1 min-w-0">
      <h3 class="text-xl font-bold text-base-900 mb-2">{title}</h3>
    </div>
  </div>

  <p class="text-base-600 mb-6 leading-relaxed">{description}</p>

  <ul class="space-y-3 mb-8">
    {features.map((feature) => (
      <li class="flex items-start gap-3">
        <svg class="w-5 h-5 text-accent-600 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
        <span class="text-base-700 text-sm leading-relaxed">{feature}</span>
      </li>
    ))}
  </ul>

  <a
    href={href}
    class={`
      inline-flex items-center justify-center w-full px-6 py-3.5 rounded-xl font-semibold text-sm transition-all duration-200
      ${featured
        ? 'bg-gradient-to-r from-accent-600 to-blue-600 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 hover:from-accent-700 hover:to-blue-700'
        : 'bg-base-100 text-base-900 hover:bg-accent-600 border-2 border-base-200 hover:border-accent-600 shadow-sm hover:shadow-md service-card-button'
      }
    `}
    style="color: #FFFFFF;"
  >
    {buttonText}
    <svg class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
      {isConsultoria ? (
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
      ) : (
        <>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
        </>
      )}
    </svg>
  </a>
</div>

<style>
  .service-card-button:hover {
    color: #000000 !important;
  }
</style>
